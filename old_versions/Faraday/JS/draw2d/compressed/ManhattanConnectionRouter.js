/**
This notice must be untouched at all times.
This is the COMPRESSED version of Draw2D
WebSite: http://www.draw2d.org
Copyright: 2006 Andreas Herz. All rights reserved.
Created: 5.11.2006 by Andreas Herz (Web: http://www.freegroup.de )
LICENSE: LGPL
**/

draw2d.ManhattanConnectionRouter=function(){this.MINDIST=20;};draw2d.ManhattanConnectionRouter.prototype=new draw2d.ConnectionRouter();draw2d.ManhattanConnectionRouter.prototype.type="draw2d.ManhattanConnectionRouter";draw2d.ManhattanConnectionRouter.prototype.route=function(conn){var _201=conn.getStartPoint();var _202=this.getStartDirection(conn);var toPt=conn.getEndPoint();var _204=this.getEndDirection(conn);this._route(conn,toPt,_204,_201,_202);};draw2d.ManhattanConnectionRouter.prototype._route=function(conn,_206,_207,toPt,_209){var TOL=0.1;var _20b=0.01;var UP=0;var _20d=1;var DOWN=2;var LEFT=3;var _210=_206.x-toPt.x;var _211=_206.y-toPt.y;var _212;var dir;if(((_210*_210)<(_20b))&&((_211*_211)<(_20b))){conn.addPoint(new draw2d.Point(toPt.x,toPt.y));return;}if(_207==LEFT){if((_210>0)&&((_211*_211)<TOL)&&(_209===_20d)){_212=toPt;dir=_209;}else{if(_210<0){_212=new draw2d.Point(_206.x-this.MINDIST,_206.y);}else{if(((_211>0)&&(_209===DOWN))||((_211<0)&&(_209==UP))){_212=new draw2d.Point(toPt.x,_206.y);}else{if(_207==_209){var pos=Math.min(_206.x,toPt.x)-this.MINDIST;_212=new draw2d.Point(pos,_206.y);}else{_212=new draw2d.Point(_206.x-(_210/2),_206.y);}}}if(_211>0){dir=UP;}else{dir=DOWN;}}}else{if(_207==_20d){if((_210<0)&&((_211*_211)<TOL)&&(_209===LEFT)){_212=toPt;dir=_209;}else{if(_210>0){_212=new draw2d.Point(_206.x+this.MINDIST,_206.y);}else{if(((_211>0)&&(_209===DOWN))||((_211<0)&&(_209===UP))){_212=new draw2d.Point(toPt.x,_206.y);}else{if(_207==_209){var pos=Math.max(_206.x,toPt.x)+this.MINDIST;_212=new draw2d.Point(pos,_206.y);}else{_212=new draw2d.Point(_206.x-(_210/2),_206.y);}}}if(_211>0){dir=UP;}else{dir=DOWN;}}}else{if(_207==DOWN){if(((_210*_210)<TOL)&&(_211<0)&&(_209==UP)){_212=toPt;dir=_209;}else{if(_211>0){_212=new draw2d.Point(_206.x,_206.y+this.MINDIST);}else{if(((_210>0)&&(_209===_20d))||((_210<0)&&(_209===LEFT))){_212=new draw2d.Point(_206.x,toPt.y);}else{if(_207===_209){var pos=Math.max(_206.y,toPt.y)+this.MINDIST;_212=new draw2d.Point(_206.x,pos);}else{_212=new draw2d.Point(_206.x,_206.y-(_211/2));}}}if(_210>0){dir=LEFT;}else{dir=_20d;}}}else{if(_207==UP){if(((_210*_210)<TOL)&&(_211>0)&&(_209===DOWN)){_212=toPt;dir=_209;}else{if(_211<0){_212=new draw2d.Point(_206.x,_206.y-this.MINDIST);}else{if(((_210>0)&&(_209===_20d))||((_210<0)&&(_209===LEFT))){_212=new draw2d.Point(_206.x,toPt.y);}else{if(_207===_209){var pos=Math.min(_206.y,toPt.y)-this.MINDIST;_212=new draw2d.Point(_206.x,pos);}else{_212=new draw2d.Point(_206.x,_206.y-(_211/2));}}}if(_210>0){dir=LEFT;}else{dir=_20d;}}}}}}this._route(conn,_212,dir,toPt,_209);conn.addPoint(_206);};