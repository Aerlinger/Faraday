/**
This notice must be untouched at all times.
This is the COMPRESSED version of Draw2D
WebSite: http://www.draw2d.org
Copyright: 2006 Andreas Herz. All rights reserved.
Created: 5.11.2006 by Andreas Herz (Web: http://www.freegroup.de )
LICENSE: LGPL
**/

function removeTextNodes(nodes){var _12e2=new draw2d.ArrayList();for(var i=0;i<nodes.length;i++){var child=nodes.item(i);var _12e5=child.nodeName;if(_12e5==="#text"){continue;}_12e2.add(child);}return _12e2.asArray();}draw2d.ModelXMLDeserializer=function(){alert("do not init this class. Use the static methods instead");};draw2d.ModelXMLDeserializer.fromXML=function(node,_12e7,_12e8){var _12e9=""+node.nodeName;var value=node.nodeValue;if(value===null){if(node.nodeTypedValue){value=node.nodeTypedValue;}else{value=node.textContent;}}var obj=null;var _12ec=false;switch(_12e9.toLowerCase()){case "vnetwork":obj=new draw2d.VirtualNetworkCloudModel(node.getAttribute("id"));_12e8=obj;break;case "server":if(_12e7 instanceof draw2d.MountModel){obj=new draw2d.ServerReferenceModel(node.getAttribute("reference"));}else{if(_12e7 instanceof draw2d.NicModel){obj=new draw2d.ServerReferenceModel(node.getAttribute("reference"));}else{obj=new draw2d.ServerModel(node.getAttribute("id"));}}break;case "storage":if(_12e7 instanceof draw2d.MountModel){obj=new draw2d.StorageReferenceModel(node.getAttribute("reference"));}else{obj=new draw2d.StorageModel(node.getAttribute("id"));}break;case "switch":if(_12e7 instanceof draw2d.NicModel){obj=new draw2d.SwitchReferenceModel(node.getAttribute("reference"));}else{obj=new draw2d.SwitchModel(node.getAttribute("id"));}break;case "representation":obj=new draw2d.RepresentationModel();break;case "nics":obj=new draw2d.NicsModel();break;case "nic":if(_12e7 instanceof draw2d.SwitchModel){obj=new draw2d.NicReferenceModel(node.getAttribute("reference"));}else{obj=new draw2d.NicModel(node.getAttribute("id"));_12e7.addNicModel(obj);_12ec=true;}break;case "images":obj=new draw2d.ImagesModel();break;case "image":obj=new draw2d.ImageModel(node.getAttribute("id"));_12e7.addImageModel(obj);break;case "mount":var _12ed=removeTextNodes(node.childNodes);if(_12ed[0].nodeName==="server"){obj=new draw2d.MountModel(_12ed[1].getAttribute("reference"),_12ed[0].getAttribute("reference"),node.getAttribute("id"));}else{obj=new draw2d.MountModel(_12ed[0].getAttribute("reference"),_12ed[1].getAttribute("reference"),node.getAttribute("id"));}break;default:return value;}if(_12e7!==undefined&&obj.setModelParent!==undefined){obj.setModelParent(_12e7);}var _12ee=removeTextNodes(node.childNodes);var _12ef=0;for(var i=0;i<_12ee.length;i++){var child=_12ee[i];var _12f2=child.nodeName;if(obj instanceof Array){_12f2=_12ef;}var _12f3=draw2d.ModelXMLDeserializer.fromXML(child,obj instanceof draw2d.AbstractObjectModel?obj:_12e7,_12e8);if(_12f3 instanceof draw2d.AbstractCloudNodeModel&&obj instanceof draw2d.VirtualNetworkCloudModel){obj.addCloudNodeModel(_12f3);}else{if(_12f3 instanceof draw2d.AbstractConnectionModel){_12f3.getSourceModel().addConnectionModel(_12f3);}else{obj[_12f2]=_12f3;}}_12ef++;}var _12f4=node.attributes;for(var ii=0;ii<_12f4.length;ii++){var _12f6=_12f4.item(ii);obj[_12f6.nodeName]=_12f6.nodeValue;}if(_12ec===true){var _12f7=obj.getSwitchReferenceModel();var _12f8=obj.getServerReferenceModel();if(_12f7!==null){var sw=_12e8.getCloudNodeModel(_12f7.getReference());if(sw===null){_12e8.addCloudNodeModel(new draw2d.SwitchModel(ref.getReference()));}if(_12f8!==null){var _12fa=obj.getModelParent().getModelParent();if(_12fa instanceof draw2d.ServerModel){var con=new draw2d.NicConnectionModel(_12fa.getId(),sw.getId());con.nicModel=obj;_12fa.addConnectionModel(con);}}}}return obj;};