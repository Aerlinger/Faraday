/**
This notice must be untouched at all times.
This is the COMPRESSED version of Draw2D
WebSite: http://www.draw2d.org
Copyright: 2006 Andreas Herz. All rights reserved.
Created: 5.11.2006 by Andreas Herz (Web: http://www.freegroup.de )
LICENSE: LGPL
**/

draw2d.Canvas=function(_1bcf){try{if(_1bcf){this.construct(_1bcf);}this.enableSmoothFigureHandling=false;this.canvasLines=new draw2d.ArrayList();}catch(e){pushErrorStack(e,"draw2d.Canvas=function(/*:String*/id)");}};draw2d.Canvas.IMAGE_BASE_URL="";draw2d.Canvas.prototype.type="draw2d.Canvas";draw2d.Canvas.prototype.construct=function(_1bd0){this.canvasId=_1bd0;this.html=document.getElementById(this.canvasId);this.scrollArea=document.body.parentNode;};draw2d.Canvas.prototype.setViewPort=function(divId){this.scrollArea=document.getElementById(divId);};draw2d.Canvas.prototype.addFigure=function(_1bd2,xPos,yPos,_1bd5){try{if(this.enableSmoothFigureHandling===true){if(_1bd2.timer<=0){_1bd2.setAlpha(0.001);}var _1bd6=_1bd2;var _1bd7=function(){if(_1bd6.alpha<1){_1bd6.setAlpha(Math.min(1,_1bd6.alpha+0.05));}else{window.clearInterval(_1bd6.timer);_1bd6.timer=-1;}};if(_1bd6.timer>0){window.clearInterval(_1bd6.timer);}_1bd6.timer=window.setInterval(_1bd7,30);}_1bd2.setCanvas(this);if(xPos&&yPos){_1bd2.setPosition(xPos,yPos);}if(_1bd2 instanceof draw2d.Line){this.canvasLines.add(_1bd2);this.html.appendChild(_1bd2.getHTMLElement());}else{var obj=this.canvasLines.getFirstElement();if(obj===null){this.html.appendChild(_1bd2.getHTMLElement());}else{this.html.insertBefore(_1bd2.getHTMLElement(),obj.getHTMLElement());}}if(!_1bd5){_1bd2.paint();}}catch(e){pushErrorStack(e,"draw2d.Canvas.prototype.addFigure= function( /*:draw2d.Figure*/figure,/*:int*/ xPos,/*:int*/ yPos, /*:boolean*/ avoidPaint)");}};draw2d.Canvas.prototype.removeFigure=function(_1bd9){if(this.enableSmoothFigureHandling===true){var oThis=this;var _1bdb=_1bd9;var _1bdc=function(){if(_1bdb.alpha>0){_1bdb.setAlpha(Math.max(0,_1bdb.alpha-0.05));}else{window.clearInterval(_1bdb.timer);_1bdb.timer=-1;oThis.html.removeChild(_1bdb.html);_1bdb.setCanvas(null);}};if(_1bdb.timer>0){window.clearInterval(_1bdb.timer);}_1bdb.timer=window.setInterval(_1bdc,20);}else{this.html.removeChild(_1bd9.html);_1bd9.setCanvas(null);}if(_1bd9 instanceof draw2d.Line){this.canvasLines.remove(_1bd9);}};draw2d.Canvas.prototype.getEnableSmoothFigureHandling=function(){return this.enableSmoothFigureHandling;};draw2d.Canvas.prototype.setEnableSmoothFigureHandling=function(flag){this.enableSmoothFigureHandling=flag;};draw2d.Canvas.prototype.getWidth=function(){return parseInt(this.html.style.width);};draw2d.Canvas.prototype.setWidth=function(width){if(this.scrollArea!==null){this.scrollArea.style.width=width+"px";}else{this.html.style.width=width+"px";}};draw2d.Canvas.prototype.getHeight=function(){return parseInt(this.html.style.height);};draw2d.Canvas.prototype.setHeight=function(_1bdf){if(this.scrollArea!==null){this.scrollArea.style.height=_1bdf+"px";}else{this.html.style.height=_1bdf+"px";}};draw2d.Canvas.prototype.setBackgroundImage=function(_1be0,_1be1){if(_1be0!==null){if(_1be1){this.html.style.background="transparent url("+_1be0+") ";}else{this.html.style.background="transparent url("+_1be0+") no-repeat";}}else{this.html.style.background="transparent";}};draw2d.Canvas.prototype.getY=function(){return this.y;};draw2d.Canvas.prototype.getX=function(){return this.x;};draw2d.Canvas.prototype.getAbsoluteY=function(){var el=this.html;var ot=el.offsetTop;while((el=el.offsetParent)!==null){ot+=el.offsetTop;}return ot;};draw2d.Canvas.prototype.getAbsoluteX=function(){var el=this.html;var ol=el.offsetLeft;while((el=el.offsetParent)!==null){ol+=el.offsetLeft;}return ol;};draw2d.Canvas.prototype.getScrollLeft=function(){return this.scrollArea.scrollLeft;};draw2d.Canvas.prototype.getScrollTop=function(){return this.scrollArea.scrollTop;};